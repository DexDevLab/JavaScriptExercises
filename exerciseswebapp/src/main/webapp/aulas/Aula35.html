<!doctype html>
<html lang="pt-br">
<head>
  <title> JS Exercise </title>
  <meta charset="utf-8"/>
  <style>
    #dv1
    {
      width:100px;
      height:100px;
      border:1px solid #000;
      background-color:#fff;
    }
  </style>
  <script>
    var tmp;
    var latency = prompt("Digite um número para a latência");
    function changeColor()
    {
      var obj = document.getElementById("dv1");
      var red = Math.floor(Math.random()*255);
      var green = Math.floor(Math.random()*255);
      var blue = Math.floor(Math.random()*255);
      obj.style.backgroundColor = "rgb(" + red + "," + green + "," + blue + ")"; 
    }
    
    function start()
    {
      tmp = setInterval(changeColor, latency);
    }
    
    function stop()
    {
      clearInterval(tmp);
    }
  
    function startEvents()
    {
      document.getElementById("bt1").addEventListener("click", start);
      document.getElementById("bt2").addEventListener("click", stop);
    }
    
    window.addEventListener("load", startEvents);
  </script>
  
  
</head>
<body>
  <div id="dv1"></div>
  <br/>
  <button id="bt1" onclick="start">Iniciar</button>
  <button id="bt2" onclick="stop">Parar</button>
</body>
</html>
